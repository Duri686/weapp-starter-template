<!-- src/pages/profile/index.wxml -->
<view class="container">
  <!-- 用户信息头部 - 粘性定位 -->
  <van-sticky>
    <view class="user-header" bindtap="onUserInfoTap">
      <view class="user-info">
        <van-image class="avatar" src="{{userInfo.avatar || '/assets/images/default-avatar.png'}}" round width="120rpx" height="120rpx" catchtap="onAvatarTap" />
        <view class="user-details">
          <text class="nickname">{{userInfo.nickname || '点击登录'}}</text>
          <text class="user-id">ID: {{userInfo.userId || '未登录'}}</text>
          <view class="user-level">
            <van-tag type="primary" size="small">{{userInfo.level || 'VIP1'}}</van-tag>
          </view>
        </view>
      </view>
      <van-icon name="arrow" class="arrow-icon" />
    </view>
  </van-sticky>
  <!-- 数据统计网格 -->
  <view class="stats-section">
    <view class="stats-grid-custom">
      <view class="stat-item" wx:for="{{statsData}}" wx:key="type" bindtap="onStatTap" data-type="{{item.type}}">
        <text class="stat-value">{{item.value}}</text>
        <text class="stat-label">{{item.label}}</text>
      </view>
    </view>
  </view>
  <!-- 订单状态网格 -->
  <view class="order-section">
    <view class="order-grid-custom">
      <view class="order-item" wx:for="{{orderStatusData}}" wx:key="type" bindtap="onOrderStatusTap" data-status="{{item.type}}">
        <view class="order-item-content">
          <van-icon name="{{item.icon}}" class="order-icon" />
          <text class="order-label">{{item.label}}</text>
        </view>
        <view wx:if="{{item.count > 0}}" class="order-badge-wrapper">
          <text class="order-badge-text">{{item.count}}</text>
        </view>
      </view>
    </view>
  </view>
  <!-- 功能菜单 -->
  <view class="menu-section">
    <text class="menu-title">功能菜单</text>
    <van-cell-group custom-class="menu-group">
      <van-cell wx:for="{{menuList}}" wx:key="id" title="{{item.title}}" icon="{{item.icon}}" is-link bindtap="onMenuTap" data-item="{{item}}">
        <van-info wx:if="{{item.badge}}" slot="right-icon" dot="{{false}}" info="{{item.badge}}" />
      </van-cell>
    </van-cell-group>
  </view>
  <!-- 设置菜单 -->
  <view class="settings-section">
    <text class="menu-title">设置</text>
    <van-cell-group custom-class="menu-group">
      <van-cell wx:for="{{settingList}}" wx:key="id" title="{{item.title}}" icon="{{item.icon}}" is-link bindtap="onSettingTap" data-item="{{item}}" />
    </van-cell-group>
  </view>
</view>